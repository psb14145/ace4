/************************Revision History*********************************
 *
 *	v1.1 18/2/2016 When the user inputs more than 512 characters the
 *      input is broken into blocks of 512 and then each block printed
 *      seperately rather than only the first 512 being printed. 
 *************************************************************************/

#define VERSION "ACE2 (v3.0) by Stephen Corcoran, Katie Reid, Carla Rankin, Stephen Gray, Rachel Maley. Updated: 11/02/2016\n"
#include <stdio.h>
#include <string.h>

#define Max_Input 512
#define pointer ">"

void exit(int status); /*function for exiting the program*/

char *getUserInput(void){
	
	static char input[Max_Input];
	int ex;

	if(fgets(input, Max_Input,stdin)!=NULL){
		
	


	if('\n' == input[0]){
		return("0");
	}
	ex = strncmp(input,"exit\n",6	);/*Compares the first 4 letters of the input to the word "exit"*/

	if(ex == 0){
		exit(0);
	}
	

	return input;}
	exit(0);
	return(0);
	
}

int main(){
	char userInput[Max_Input];
	int inpErr;
	char s[50];
	char *p = strtok(s, "\t , \n -()<>&|;");
	
	
	printf(VERSION);

	while(1){
		printf(pointer);
		
		strcpy(userInput, getUserInput());

		inpErr = strncmp(userInput,"0",1); /*If the getUserInput() returns 0 then there has been an input error*/
		if(inpErr == 0){
			printf("Input invalid\n");
		}

    p = strtok(userInput, "\t , \n -()<>&|;");
		
		while (p != NULL){
      printf ("%s\n",p);
      p = strtok (NULL, "\t , \n -()<>&|;");
    }
	}
	
	return 0;
}
